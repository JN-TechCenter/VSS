# VSS YOLO推理服务环境配置

# ===========================================
# 🐍 YOLO推理服务配置
# ===========================================

# 服务基础配置
YOLO_PORT=8084
YOLO_MAX_WORKERS=4
YOLO_MEMORY_LIMIT=2G
YOLO_MEMORY_RESERVE=1G
YOLO_REQUEST_TIMEOUT=30

# AI模型配置
MODEL_PATH=/app/models
MODEL_CACHE_SIZE=3
INFERENCE_BATCH_SIZE=4
GPU_ENABLED=false
DEVICE=cpu

# 性能优化配置
ASYNC_POOL_SIZE=10
MAX_CONCURRENT_REQUESTS=20
MODEL_WARMUP_ENABLED=true

# 日志配置
AI_LOG_LEVEL=info
LOG_FORMAT=json

# Redis配置 (AI缓存)
REDIS_AI_DB=1
REDIS_CACHE_TTL=3600

# 服务集成配置
YOLO_SERVICE_URL=http://yolo-inference:8084
AI_SERVICE_TIMEOUT=30000
AI_SERVICE_RETRY=3

# ===========================================
# 📊 模型配置
# ===========================================

# 支持的YOLO模型版本
YOLO_V5_ENABLED=true
YOLO_V8_ENABLED=true
YOLO_V10_ENABLED=false

# 检测阈值配置
CONFIDENCE_THRESHOLD=0.5
IOU_THRESHOLD=0.45
MAX_DETECTIONS=100

# 输入图像配置
MAX_IMAGE_SIZE=1280
SUPPORTED_FORMATS=jpg,jpeg,png,bmp,tiff

# ===========================================
# 🔄 持续集成配置
# ===========================================

# Git子仓库配置
YOLO_REPO_URL=https://github.com/JN-TechCenter/yolo_inference_server.git
YOLO_REPO_BRANCH=main
AUTO_UPDATE_ENABLED=false

# Docker构建配置
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# 健康检查配置
HEALTH_CHECK_ENDPOINT=/health
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=15s
HEALTH_CHECK_RETRIES=3
